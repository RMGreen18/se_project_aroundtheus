!function(){"use strict";class e{constructor(e,t,n){let{name:i,link:s}=e;this._name=i,this._link=s,this._cardSelector=t,this._handleImageClick=n}_getTemplate(){return document.querySelector(this._cardSelector).content.firstElementChild.cloneNode(!0)}_setEventListeners(){this._cardImageElement.addEventListener("click",(()=>{this._handleImageClick({link:this._link,name:this._name})})),this._buttonLike.addEventListener("click",(()=>{this._handleLike(this._buttonLike)})),this._buttonDelete.addEventListener("click",(()=>{this._handleDelete(this._buttonDelete)}))}_handleLike(e){e.classList.toggle("card__like-button_active")}_handleDelete(){this._cardElement.remove()}generateCardElement(){return this._cardElement=this._getTemplate(),this._buttonLike=this._cardElement.querySelector("#card-like-button"),this._buttonDelete=this._cardElement.querySelector("#card-trash-button"),this._cardTitleElement=this._cardElement.querySelector("#card-title"),this._cardImageElement=this._cardElement.querySelector("#card-image"),this._cardTitleElement.textContent=this._name,this._cardImageElement.src=this._link,this._cardImageElement.alt=this._name,this._setEventListeners(),this._cardElement}}class t{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._element=t,this._inputElements=[...this._element.querySelectorAll(this._inputSelector)],this._submitButton=this._element.querySelector(this._submitButtonSelector)}_showInputError(e){const t=this._element.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._element.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_toggleButtonState(){let e=!1;this._inputElements.forEach((t=>{t.validity.valid||(e=!0)})),e?this._disableSubmit():(this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1)}_setEventListeners(){this._inputElements.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}_disableSubmit(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}enableValidation(){this._element.addEventListener("submit",(e=>{e.preventDefault(),this._disableSubmit()})),this._setEventListeners()}}const n=document.querySelector("#profile-edit-modal"),i=document.querySelector("#card-add-modal"),s=document.querySelector("#preview-image-modal"),r=document.querySelectorAll(".modal__close"),o=document.querySelector("#profile-edit-button"),a=document.querySelector("#profile-title"),l=document.querySelector("#profile-description"),c=document.querySelector("#card-add-button"),u=document.forms["profile-edit-form"],d=document.querySelector("#profile-title-input"),m=document.querySelector("#profile-description-input"),_=document.querySelector("#card-list"),h=document.forms["card-add-form"],p=h.querySelector("#card-title-input"),E=h.querySelector("#card-image-input"),v=s.querySelector("#modal-preview"),S=s.querySelector("#modal-preview-caption");function b(e){e.classList.remove("modal_opened"),document.removeEventListener("keydown",g),e.removeEventListener("mousedown",L)}function f(e){e.classList.add("modal_opened"),document.addEventListener("keydown",g),e.addEventListener("mousedown",L)}function g(e){"Escape"===e.key&&b(document.querySelector(".modal_opened"))}function L(e){e.target.classList.contains("modal")&&b(e.target)}function k(t,n){const i=new e(t,"#card-template",y).generateCardElement();n.prepend(i)}function y(e){v.src=e.link,v.alt=e.name,S.textContent=e.name,f(s)}o.addEventListener("click",(function(){d.value=a.textContent,m.value=l.textContent,f(n)})),c.addEventListener("click",(function(){f(i)})),r.forEach((e=>{const t=e.closest(".modal");e.addEventListener("click",(function(){b(t)}))})),u.addEventListener("submit",(function(e){e.preventDefault(),a.textContent=d.value,l.textContent=m.value,b(n)})),h.addEventListener("submit",(function(e){e.preventDefault(),k({name:p.value,link:E.value},_),e.target.reset(),b(i)}));const w={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__submit",inactiveButtonClass:"modal__submit_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},C=new t(w,u),q=new t(w,h);C.enableValidation(),q.enableValidation(),[{name:"Yosemite Valley",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/yosemite.jpg"},{name:"Lake Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lake-louise.jpg"},{name:"Bald Mountains",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/bald-mountains.jpg"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/latemar.jpg"},{name:"Vanoise National Park",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/vanoise.jpg"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lago.jpg"}].forEach((e=>{k(e,_)}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bUI1QyxZQUFjaUQsRUFBc0JzQixNQUN2RGYsRUFBV2xCLEVBQ2IsSUF5Q0FhLEVBQVkvRCxpQkFBaUIsVUF2QzdCLFNBQThCMEUsR0FDNUJBLEVBQUl6QixpQkFHSjZCLEVBQVcsQ0FDVDdGLEtBSFcrRSxFQUFlbUIsTUFJMUJqRyxLQUhXK0UsRUFBY2tCLE9BSXhCckIsR0FDSFksRUFBSUUsT0FBT1MsUUFDWGpCLEVBQVdqQixFQUNiLElBbUNBLE1BQU1uQyxFQUFTLENBQ2JzRSxhQUFjLGVBQ2RuRSxjQUFlLGdCQUNmRSxxQkFBc0IsaUJBQ3RCRSxvQkFBcUIseUJBQ3JCRSxnQkFBaUIsMEJBQ2pCRSxXQUFZLHdCQUdSNEQsRUFBdUIsSUFBSXhFLEVBQWNDLEVBQVEwQyxHQUNqRDhCLEVBQW9CLElBQUl6RSxFQUFjQyxFQUFRK0MsR0FFcER3QixFQUFxQnZDLG1CQUNyQndDLEVBQWtCeEMsbUJBMUtHLENBQ25CLENBQ0UvRCxLQUFNLGtCQUNOQyxLQUFNLHNHQUVSLENBQ0VELEtBQU0sY0FDTkMsS0FBTSx5R0FFUixDQUNFRCxLQUFNLGlCQUNOQyxLQUFNLDRHQUVSLENBQ0VELEtBQU0sVUFDTkMsS0FBTSxxR0FFUixDQUNFRCxLQUFNLHdCQUNOQyxLQUFNLHFHQUVSLENBQ0VELEtBQU0saUJBQ05DLEtBQU0sbUdBcUpHMEQsU0FBUzZDLElBQ3BCWCxFQUFXVyxFQUFhM0IsRUFBUyxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXJvdW5kIHRoZSBVUy8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vQXJvdW5kIHRoZSBVUy8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vQXJvdW5kIHRoZSBVUy8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3Ioe25hbWUsIGxpbmt9LCBjYXJkU2VsZWN0b3IsIGhhbmRsZUltYWdlQ2xpY2spIHtcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICB0aGlzLl9saW5rID0gbGluaztcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcikuY29udGVudC5maXJzdEVsZW1lbnRDaGlsZC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2NhcmRJbWFnZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHtsaW5rOiB0aGlzLl9saW5rLCBuYW1lOiB0aGlzLl9uYW1lfSk7XG4gIH0pO1xuXG4gIHRoaXMuX2J1dHRvbkxpa2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgdGhpcy5faGFuZGxlTGlrZSh0aGlzLl9idXR0b25MaWtlKTtcbiAgfSk7XG5cbiAgdGhpcy5fYnV0dG9uRGVsZXRlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZSh0aGlzLl9idXR0b25EZWxldGUpO1xuICB9KTtcblxuICB9XG5cbiAgX2hhbmRsZUxpa2UoYnV0dG9uKSB7XG4gICAgYnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XG4gIH1cblxuICBfaGFuZGxlRGVsZXRlKCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xuICB9XG5cbiAgZ2VuZXJhdGVDYXJkRWxlbWVudCgpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgdGhpcy5fYnV0dG9uTGlrZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC1saWtlLWJ1dHRvblwiKTtcbiAgICB0aGlzLl9idXR0b25EZWxldGUgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdHJhc2gtYnV0dG9uXCIpO1xuICAgIHRoaXMuX2NhcmRUaXRsZUVsZW1lbnQgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdGl0bGVcIik7XG4gICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC1pbWFnZVwiKTtcbiAgICB0aGlzLl9jYXJkVGl0bGVFbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbGVtZW50LnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudC5hbHQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xuICB9XG5cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3I9IGNvbmZpZy5pbnB1dFNlbGVjdG9yO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yPSBjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcz0gY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzPSBjb25maWcuaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX2Vycm9yQ2xhc3M9IGNvbmZpZy5lcnJvckNsYXNzO1xuXG4gICAgdGhpcy5fZWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuX2lucHV0RWxlbWVudHMgPSBbLi4udGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICB9XG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2VFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yTWVzc2FnZUVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgZXJyb3JNZXNzYWdlRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JNZXNzYWdlRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgZXJyb3JNZXNzYWdlRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgbGV0IGZvdW5kSW52YWxpZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5faW5wdXRFbGVtZW50cy5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSBmb3VuZEludmFsaWQgPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgaWYgKGZvdW5kSW52YWxpZCkge1xuICAgICAgdGhpcy5fZGlzYWJsZVN1Ym1pdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9pbnB1dEVsZW1lbnRzLmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZSkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgX2Rpc2FibGVTdWJtaXQoKSB7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgICB0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLl9kaXNhYmxlU3VibWl0KCk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuIiwiaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IFBvcHVwIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xuXG5jb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIHtcbiAgICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC95b3NlbWl0ZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFrZSBMb3Vpc2VcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFrZS1sb3Vpc2UuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkJhbGQgTW91bnRhaW5zXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYXRlbWFyXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhdGVtYXIuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC92YW5vaXNlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWdvLmpwZ1wiLFxuICB9LFxuXTtcblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRWxlbWVudHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4vL1BvcHVwc1xuY29uc3QgcHJvZmlsZUVkaXRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIpO1xuY29uc3QgY2FyZEFkZE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkLWFkZC1tb2RhbFwiKTtcbmNvbnN0IHByZXZpZXdJbWFnZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcmV2aWV3LWltYWdlLW1vZGFsXCIpO1xuY29uc3QgY2xvc2VCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9fY2xvc2VcIik7XG5cbi8vIFByb2ZpbGVcbmNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWVkaXQtYnV0dG9uXCIpO1xuY29uc3QgcHJvZmlsZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLXRpdGxlXCIpO1xuY29uc3QgcHJvZmlsZURlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWRlc2NyaXB0aW9uXCIpO1xuY29uc3QgY2FyZEFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC1hZGQtYnV0dG9uXCIpO1xuXG4vL1Byb2ZpbGUgRWRpdCBGb3JtXG5jb25zdCBwcm9maWxlRWRpdEZvcm0gPSBkb2N1bWVudC5mb3Jtc1tcInByb2ZpbGUtZWRpdC1mb3JtXCJdO1xuY29uc3QgbW9kYWxUaXRsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLXRpdGxlLWlucHV0XCIpO1xuY29uc3QgbW9kYWxEZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIjcHJvZmlsZS1kZXNjcmlwdGlvbi1pbnB1dFwiXG4pO1xuXG4vL0NhcmRzXG5jb25zdCBjYXJkTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC1saXN0XCIpO1xuXG4vL0NhcmQgQWRkIEZvcm1cbmNvbnN0IGNhcmRBZGRGb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJjYXJkLWFkZC1mb3JtXCJdO1xuY29uc3QgY2FyZFRpdGxlSW5wdXQgPSBjYXJkQWRkRm9ybS5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdGl0bGUtaW5wdXRcIik7XG5jb25zdCBjYXJkTGlua0lucHV0ID0gY2FyZEFkZEZvcm0ucXVlcnlTZWxlY3RvcihcIiNjYXJkLWltYWdlLWlucHV0XCIpO1xuXG4vL0ltYWdlIFByZXZpZXdcbmNvbnN0IG1vZGFsUHJldmlldyA9IHByZXZpZXdJbWFnZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtcHJldmlld1wiKTtcbmNvbnN0IG1vZGFsUHJldmlld0NhcHRpb24gPSBwcmV2aWV3SW1hZ2VNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICBcIiNtb2RhbC1wcmV2aWV3LWNhcHRpb25cIlxuKTtcblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRnVuY3Rpb25zICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5mdW5jdGlvbiBjbG9zZVBvcHVwKHBvcHVwKSB7XG4gIHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGNsb3NlUG9wdXBFc2MpO1xuICBwb3B1cC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGNsb3NlT3ZlcmxheSk7XG59XG5cbmZ1bmN0aW9uIG9wZW5Qb3B1cChwb3B1cCkge1xuICBwb3B1cC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBjbG9zZVBvcHVwRXNjKTtcbiAgcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBjbG9zZU92ZXJsYXkpO1xufVxuXG5mdW5jdGlvbiBjbG9zZVBvcHVwRXNjKGV2dCkge1xuICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgIGNvbnN0IG9wZW5lZFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9vcGVuZWRcIik7XG4gICAgY2xvc2VQb3B1cChvcGVuZWRQb3B1cCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2xvc2VPdmVybGF5KGV2dCkge1xuICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbFwiKSkge1xuICAgIGNsb3NlUG9wdXAoZXZ0LnRhcmdldCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoaXRlbSkge1xuICBjb25zdCBjYXJkRWxlbWVudCA9IG5ldyBDYXJkKGl0ZW0sIFwiI2NhcmQtdGVtcGxhdGVcIiwgaGFuZGxlSW1hZ2VDbGljayk7XG4gIHJldHVybiBjYXJkRWxlbWVudC5nZW5lcmF0ZUNhcmRFbGVtZW50KCk7XG59XG5mdW5jdGlvbiByZW5kZXJDYXJkKGRhdGEsIHdyYXApIHtcbiAgY29uc3QgY2FyZCA9IGNyZWF0ZUNhcmQoZGF0YSk7XG4gIHdyYXAucHJlcGVuZChjYXJkKTtcbn1cblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudCBIYW5kbGVycyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlRWRpdFN1Ym1pdChldnQpIHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gIHByb2ZpbGVUaXRsZS50ZXh0Q29udGVudCA9IG1vZGFsVGl0bGVJbnB1dC52YWx1ZTtcbiAgcHJvZmlsZURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gbW9kYWxEZXNjcmlwdGlvbklucHV0LnZhbHVlO1xuICBjbG9zZVBvcHVwKHByb2ZpbGVFZGl0TW9kYWwpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVDYXJkRm9ybVN1Ym1pdChldnQpIHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0IG5hbWUgPSBjYXJkVGl0bGVJbnB1dC52YWx1ZTtcbiAgY29uc3QgbGluayA9IGNhcmRMaW5rSW5wdXQudmFsdWU7XG4gIHJlbmRlckNhcmQoe1xuICAgIG5hbWUsXG4gICAgbGluayxcbiAgfSwgY2FyZExpc3QpO1xuICBldnQudGFyZ2V0LnJlc2V0KCk7XG4gIGNsb3NlUG9wdXAoY2FyZEFkZE1vZGFsKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlSW1hZ2VDbGljayhkYXRhKSB7XG4gIG1vZGFsUHJldmlldy5zcmMgPSBkYXRhLmxpbms7XG4gIG1vZGFsUHJldmlldy5hbHQgPSBkYXRhLm5hbWU7XG4gIG1vZGFsUHJldmlld0NhcHRpb24udGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG4gIG9wZW5Qb3B1cChwcmV2aWV3SW1hZ2VNb2RhbCk7XG59XG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50IExpc3RlbmVycyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5wcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICBtb2RhbFRpdGxlSW5wdXQudmFsdWUgPSBwcm9maWxlVGl0bGUudGV4dENvbnRlbnQ7XG4gIG1vZGFsRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IHByb2ZpbGVEZXNjcmlwdGlvbi50ZXh0Q29udGVudDtcbiAgb3BlblBvcHVwKHByb2ZpbGVFZGl0TW9kYWwpO1xufSk7XG5cbmNhcmRBZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgb3BlblBvcHVwKGNhcmRBZGRNb2RhbCk7XG59KTtcblxuY2xvc2VCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICBjb25zdCBwb3B1cCA9IGJ1dHRvbi5jbG9zZXN0KFwiLm1vZGFsXCIpO1xuICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICBjbG9zZVBvcHVwKHBvcHVwKTtcbiAgfSk7XG59KTtcblxucHJvZmlsZUVkaXRGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlUHJvZmlsZUVkaXRTdWJtaXQpO1xuY2FyZEFkZEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVDYXJkRm9ybVN1Ym1pdCk7XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWYWxpZGF0aW9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuY29uc3QgY29uZmlnID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX3N1Ym1pdFwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19zdWJtaXRfZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcbn07XG5cbmNvbnN0IHByb2ZpbGVGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBwcm9maWxlRWRpdEZvcm0pO1xuY29uc3QgY2FyZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGNhcmRBZGRGb3JtKTtcblxucHJvZmlsZUZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuY2FyZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5pbml0aWFsQ2FyZHMuZm9yRWFjaCgoaW5pdGlhbENhcmQpID0+IHtcbiAgcmVuZGVyQ2FyZChpbml0aWFsQ2FyZCwgY2FyZExpc3QpO1xufSk7XG4iXSwibmFtZXMiOlsiQ2FyZCIsImNvbnN0cnVjdG9yIiwiX3JlZiIsImNhcmRTZWxlY3RvciIsImhhbmRsZUltYWdlQ2xpY2siLCJuYW1lIiwibGluayIsInRoaXMiLCJfbmFtZSIsIl9saW5rIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiX2dldFRlbXBsYXRlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImZpcnN0RWxlbWVudENoaWxkIiwiY2xvbmVOb2RlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2NhcmRJbWFnZUVsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiX2J1dHRvbkxpa2UiLCJfaGFuZGxlTGlrZSIsIl9idXR0b25EZWxldGUiLCJfaGFuZGxlRGVsZXRlIiwiYnV0dG9uIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiX2NhcmRFbGVtZW50IiwicmVtb3ZlIiwiZ2VuZXJhdGVDYXJkRWxlbWVudCIsIl9jYXJkVGl0bGVFbGVtZW50IiwidGV4dENvbnRlbnQiLCJzcmMiLCJhbHQiLCJGb3JtVmFsaWRhdG9yIiwiY29uZmlnIiwiZm9ybUVsZW1lbnQiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZWxlbWVudCIsIl9pbnB1dEVsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsIl9zdWJtaXRCdXR0b24iLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2VFbGVtZW50IiwiaWQiLCJhZGQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oaWRlSW5wdXRFcnJvciIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZm91bmRJbnZhbGlkIiwiZm9yRWFjaCIsIl9kaXNhYmxlU3VibWl0IiwiZGlzYWJsZWQiLCJlIiwiZW5hYmxlVmFsaWRhdGlvbiIsInByZXZlbnREZWZhdWx0IiwicHJvZmlsZUVkaXRNb2RhbCIsImNhcmRBZGRNb2RhbCIsInByZXZpZXdJbWFnZU1vZGFsIiwiY2xvc2VCdXR0b25zIiwicHJvZmlsZUVkaXRCdXR0b24iLCJwcm9maWxlVGl0bGUiLCJwcm9maWxlRGVzY3JpcHRpb24iLCJjYXJkQWRkQnV0dG9uIiwicHJvZmlsZUVkaXRGb3JtIiwiZm9ybXMiLCJtb2RhbFRpdGxlSW5wdXQiLCJtb2RhbERlc2NyaXB0aW9uSW5wdXQiLCJjYXJkTGlzdCIsImNhcmRBZGRGb3JtIiwiY2FyZFRpdGxlSW5wdXQiLCJjYXJkTGlua0lucHV0IiwibW9kYWxQcmV2aWV3IiwibW9kYWxQcmV2aWV3Q2FwdGlvbiIsImNsb3NlUG9wdXAiLCJwb3B1cCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjbG9zZVBvcHVwRXNjIiwiY2xvc2VPdmVybGF5Iiwib3BlblBvcHVwIiwiZXZ0Iiwia2V5IiwidGFyZ2V0IiwiY29udGFpbnMiLCJyZW5kZXJDYXJkIiwiZGF0YSIsIndyYXAiLCJjYXJkIiwicHJlcGVuZCIsInZhbHVlIiwiY2xvc2VzdCIsInJlc2V0IiwiZm9ybVNlbGVjdG9yIiwicHJvZmlsZUZvcm1WYWxpZGF0b3IiLCJjYXJkRm9ybVZhbGlkYXRvciIsImluaXRpYWxDYXJkIl0sInNvdXJjZVJvb3QiOiIifQ==